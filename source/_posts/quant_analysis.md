---
title: 金融量化分析基础
categories: 金融知识
mathjax: true
---



## 股票基本知识

* **股票(stock)**: 股票是股份公司发给出资人的一种凭证. 股票的持有者就是股东.
* **股票的作用**:
  * 证明股东身份, 对公司运营发表意见.
  * 交易获利.
* **公司上市/(IPO: Initial Public Offering)**: 企业通过证券交易所, 公开向社会发售股票, 用来募集资金.



## 股票分类

* 按照**业绩**分类:
  * 蓝筹股(blue chip): 资本雄厚, 信誉优良的公司的股票.
  * 绩优股: 业绩优良并且比较稳定的公司.
  * ST股: 特殊处理股票, 连续两年亏损/每股净资产低于股票面值.
* 按公司的**上市地区**分类:
  * A股: 中国大陆上市, 可以通过人民币进行买卖.
    * 涨跌幅度限制在10%.
    * `T+1`: `T`叫做交割日(卖出和买入差的天数), 今天买的股票必须明天才能卖.
  * B股: 中国大陆上市, 可以通过外币进行买卖.
    * `T+1`.
    * `T+3`: 这里的`T`叫交收日(提现和卖出差的天数), 卖出后, 3天可以提现.
  * H股: 中国香港上市, 无涨幅, `T+0`.
  * N股: 美国纽约上市.
  * S股: 新加坡上市.



## 股票市场构成

* 上市公司.
* 投资者.
* 证监会:
  * 能决定公司是否上市.
  * 能判定公司是否具有违法行为.
* 证券中介机构(券商).
* 交易所:
  * 上海证券交易所: 只有一个主板(沪指).
  * 深圳证券交易所: 
    * 主板: 大型成熟企业(深成指).
    * 中小板: 经营规模较小 (中小板指).
    * 创业板: 处于成长期的创业企业 (创业板指).

> 指数是什么?

* 首先, 假设我要投资某个股市, 我可以先找到这个市场中最具有代表性的$n$​只股票.

* 然后, 我可以利用什么算法, 把$n$只股票的股价综合起来, 算出一个指数, 用这个指数衡量这个市场的发展, 这个指数就叫n指数, 例如沪深300指数，上证50指数，深圳50指数.

* 投资于指数的股票，本质上就是投资于这些指数所包含的股票的基金.



## 影响股价的因素/买卖

* 影响股价的一些因素:

  * 公司经营因素.

  * 行业因素.

  * 市场因素.

  * 国家/政治因素.

* 股票买卖:

  * 个人不能直接买卖, 需要在券商开户, 进行委托购买.
  * 股票交易日: 周一到周五(排除法定节假日和交易所休市日).



## 金融分析和量化系统

* 金融分析:
  * 基本面分析: 
    * 宏观经济面: 国家财政, 货币政策.
    * 行业分析.
    * 公司分析: 财务数据, 业绩.
  * 技术面分析:
    * K线, MA线, MACD等.
* K线:
  * 一天的股票数据一般包含: 开盘价, 收盘价, 最高价, 最低价. K线可以把这些数据综合起来.

![K线结构](./quant_analysis/image-20240526181357122.png)

* MA线:
  * `MA(i, n)`表示取第`i`天前`n`天的所有收盘价平均起来算出来的一个值.
  * 根据`n`的取值不同, 分为:
    * 日均线: `n`在5天到10天之间.
    * 季均线: `n`在30天到60天之间.
    * 年均线: `n`在120天到240天之间.

* 量化交易系统:
  * 输入: 行情数据, 财务数据, 投资经验等等.
  * 策略: 选股, 择时, 仓位管理, 止损点等等.
  * 输出: 买入/卖出信号, 交易费用, 收益等.





## 双均线策略(MACD)

* 双均线策略是一种择时策略.
* 

## Wald-Wolfowitz检验

Wald-Wolfowitz检验用于检测一串0/1序列是否具有特定的规律, 也可以检验股票的涨跌是否具有偶然性.

* 游程(run): 一个序列中由连续0或者连续1构成的数据为一个游程(run). 
* 序列中游程的个数可以表示0和1交替的次数. 

例如, 下面这个序列:

`1 0 0 0 0 1 1 1 0 1 1 0 0 0 0 1 1 1 1 0`

* 有4个0游程.
* 有4个1游程.

### 检验步骤

* 假设检验为:

  * $H_0$: 数据出现随机.
  * $H_1$: 数据出现不随机.

* 参数:

  * $n_0$: 序列中0的个数.
  * $n_1$: 序列中1的个数.
  * $R$: 游程的个数.
  * $n = n_0 + n_1$: 序列长度.

* 计算预期游程数$E[R]$:

  * $E[R]$表示假设数据完全随机的情况下, 序列中出现的游程数的期望.

  $$
  E[R] = \frac{2n_1n_2}{n} + 1
  $$

  

* 计算游程的标准差$\sigma(R)$
  $$
  \sigma(R) = \sqrt{\frac{2n_1n_2(2n_1n_2 - n)}{n^2(n-1)}}
  $$

* 计算z分数$z$

  * $z$分数是一个统计量, 可以衡量一个观测值在标准正态分布中相对于平均值偏离了多少.

  $$
  z = \frac{R - E[R]}{\sigma(R)}
  $$

  * 其中$R$是实际的游程数.

* 然后, 设置置信水平为$1 - \alpha$, 从标准正态分布中找到对应的分位数$q$, 如果$|z| > q$, 那么没有落到置信区间, 拒绝原假设$H_0$, 否则接收原假设$H_0$.